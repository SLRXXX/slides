<!DOCTYPE html>
<html>
    <head>
        <title>2014年工作述职</title>
        <meta charset="utf-8" />
        <link rel="stylesheet" type="text/css" href="../../css/slide.css" />
        <style type="text/css">
            /*
            html,h1,h2,h3,h4,h5{
                font-family: "Lato", sans-serif;
            }
            */
            h1 {
                margin-top: 200px;
            }
            h2 {
                text-align: center;
            }
            .label {
                padding: 5px 20px;
                border-radius: 8px;
                margin:10px;
                display: inline-block;
            }

            #articles article {
                padding: 30px 100px;
            }
            
            .schedule-list {
                width: 300px;
                margin: 0px auto;
            }

            .schedule-list li {
                list-style: none;
                padding: 10px 30px;
                border: 1px solid white;
                border-radius: 4px;
                margin: 20px;
                line-height: 50px;
                text-align: center;

                cursor: pointer;
            }

            .schedule-list li:hover {
                background: purple;
            }

            .schedule-list.small li {
                padding: 5px 15px;
                border: 1px solid white;
                border-radius: 4px;
                margin: 20px;
                line-height: 40px;
                height: 30px;
            }

            iframe {
                border-style: none;
            }

            img {
                max-width: 1000px;
            }
        </style>
    </head>
    <body>
        <div id="articles">
            <article>
                <h1 class="title">2014年工作述职</h1>
            </article>
            <article>
                <div style="text-align:center">
                    <img data-src="imgs/echarts.png" style="vertical-align:middle; margin:100px;" width="300px" alt="">
                    <img data-src="imgs/qtek.png" style="vertical-align:middle; margin:100px;"  width="300px;" alt="">
                </div>
            </article>
            <article style="text-align:center">
                <img data-src="imgs/echarts.png" width="400px;" />
            </article>
            <article>
                <ul class="schedule-list" style="width:400px;">
                    <li>动画模块改进</li>
                    <li>层级管理</li>
                    <li>和弦图</li>
                    <li>力导向图的重写</li>
                    <li>地图数据压缩</li>
                </ul>
            </article>
            <article>
                <h2>0. 动画模块改进</h2>
                <ul>
                    <li class="item">
                        <h4>性能优化</h4>
                        <ul>
                            <li>1w个对象, 一帧~10ms</li>
                        </ul>
                    </li>
                    <li class="item">
                        <h4>
                            关键帧之间Spline插值
                        </h4>
                    </li>
                </ul>
                <div class="item" data-action="orbitAnimation" style="width:100%; height: 300px;"></div>
            </article>
            <article>
                <h2>1. Shape 的层级管理</h2>
                <div class="item" data-action="drawHierarchy" style="width: 100%; height: 400px;"></div>
            </article>
            <article>
                <h2>2. 和弦图</h2>
                <div class="item" data-action="drawChord" style="width: 100%; height: 400px;"></div>
            </article>
            <article>
                <h2>3. 力导向图的重写</h2>
                <div class="item" style="width:30%;height: 400px; float:left;border-right: 1px solid white; box-sizing:border-box">
                    <ul style="line-height: 40px;">
                        <li class="item" style="margin: 10px 5px;">ZRender 重绘的优化</li>
                        <li class="item" style="margin: 10px 5px;">四叉树优化 <br /> O(n2) -> O(nlogn)</li>
                        <li class="item" style="margin: 10px 5px;">布局计算放入 Web Worker</li>
                        <li class="item" style="margin: 10px 5px;">webkit内核依赖图的收敛速度降低到 1s 左右</li>
                    </ul>
                </div>
                <div class="item" data-action="drawForce" style="width: 70%; height: 400px; float:left;"></div>
            </article>
            <article style="text-align:center;">
                <h2>应用 - 和知识图谱合作的小时代专题</h2>
                <a href="http://tupu.baidu.com/zhuanti/xiaoshidai/" target="_blank">
                    <img width="700" src="imgs/xiaoshidai.jpg" alt="">
                </a>
                <div style="font-size: 16px; line-height: 30px;">
                    力导向布局 <br />
                    ZRender自定义绘制 <br />
                    用WebGL绘制焦外模糊，背景粒子等复杂特效 <br />
                </div>
            </article>
            <article>
                <h2>4. 地图数据压缩</h2>
                <ul>
                    <li>UTF-8 压缩算法</li>
                    <li>1.65M -> 315K</li>
                </ul>
            </article>
            <article style="text-align:center">
                <img data-src="imgs/qtek.png" style="vertical-align:middle; margin:100px;"  width="300px;" alt="">
            </article>
            <article style="text-align:center">
                <ul class="schedule-list small">
                    <li>性能优化</li>
                    <li>画面提升</li>
                    <li>动画系统</li>
                    <li>粒子特效</li>
                    <li>物理引擎</li>
                    <li>模型数据交换格式</li>
                    <li>易用性</li>
                </ul>
            </article>
            <article>
                <h1>0. 性能优化</h1>
            </article>
            <article style="text-align:center;font-family:Arial;">
                <img data-src="imgs/cubes-0.jpg" alt="">
                <div style="font-size:40px;color:#a32b2b;margin-top:-350px;text-shadow: 0px 0px 5px black;">
                    <div class="item">
                        5k Cubes
                    </div>
                    <div class="item" style="margin-top: 10px;">
                        10fps
                    </div>
                </div>
            </article>
            <article style="text-align:center;">
                <ul class="schedule-list small">
                    <li class="item">代码优化</li>
                </ul>
                <div class="item">
                    <img data-src="imgs/before-opt0.jpeg" alt="">
                </div>
                <div class="item">
                    <h4>
                        V8 Deoptimize 导致开销都在属性查找上
                    </h4>
                </div>
                <div class="item">
                    <img data-src="imgs/after-opt0.jpeg" alt="">
                </div>
                <ul class="schedule-list small">
                    <li class="item">场景裁剪</li>
                </ul>
                <ul class="schedule-list small">
                    <li class="item">减少GL Call</li>
                </ul>
            </article>
            <article style="text-align:center;font-family:Arial;">
                <img data-src="imgs/cubes-0.jpg" alt="">
                <div style="font-size:40px;color:#297123;margin-top:-350px;text-shadow: 0px 0px 5px black;">
                    <div class="item">
                        1w Cubes
                    </div>
                    <div class="item" style="margin-top: 10px;">
                        45fps
                    </div>
                </div>
            </article>
            <article style="text-align:center;font-family:Arial;">
                <img data-src="imgs/bootcamp-free.jpg" alt="">
                <div style="font-size:26px;color:white;margin-top: -400px;">
                    <div class="item">
                        场景物体 1k+
                    </div>
                    <div class="item" style="margin-top: 10px;">
                        面 63w
                    </div>
                    <div class="item" style="margin-top: 10px;">
                        顶点 163w
                    </div>
                    <div class="item" style="margin-top: 10px;">
                        场景文件 17M
                    </div>
                    <div class="item" style="margin-top: 10px;">
                        纹理大小 100M
                    </div>
                    <div class="item" style="margin-top: 10px;color:#a32b2b;">
                        加载时间 10s+
                    </div>
                </div>
            </article>
            <article style="text-align:center;">
                <h2>GC</h2>
                <div class="item">
                    <img data-src="imgs/before-opt1.jpeg" alt="">
                </div>
                <div class="item">
                    <img data-src="imgs/gc-log.jpeg" alt="">
                </div>
                <div class="item">
                    <h3>顶点数据和动画数据使用TypedArray保存</h3>
                </div>
                <div class="item">
                    <img data-src="imgs/heap-after.jpeg" alt="">
                </div>
            </article>
            <article style="text-align:center;font-family:Arial;">
                <img data-src="imgs/bootcamp-free.jpg" alt="">
                <div style="font-size:40px;color:#297123;margin-top: -300px;">
                    <div class="item">
                        加载时间 500ms-
                    </div>
                </div>
            </article>
            <article style="text-align:center">
                <h2>Sponza Demo</h2>
                <img data-src="imgs/sponza.jpg" />
                <div style="font-size:40px;margin-top:-300px;font-family:Arial;">
                    <div>
                        <span style="color:#a32b2b">10fps</span><span style="color:#297123;"> => 60fps</span>
                    </div>
                </div>
            </article>
            <article>
                <h1>1. 画面提升</h1>
            </article>
            <article style="text-align:center">
                <h2>基于物理模型的材质</h2>
                <img data-src="imgs/pbs.png" />
            </article>
            <article style="text-align:center">
                <h2>HDR以及镜头特效</h2>
                <img data-src="http://ww1.sinaimg.cn/large/6d3f08cbjw1eb7yuefgsjj21hc0tuwkw.jpg" alt="" style="width:90%;max-width:2000px;">
            </article>
            <article style="text-align:center">
                <div style="position:relative; margin:0px auto; width: 100%; height: 100%;">
                    <img data-src="imgs/pp-before.jpg" style="position:absolute;left:0px;top:0px;max-width:2000px;width:100%;" alt="" />
                    <img data-src="imgs/pp-after.jpg" class="item" style="position:absolute;left:0px;top:0px;max-width:2000px;width:100%;" alt="" />
                </div>
            </article>
            <article style="text-align:center">
                <h2>阴影的改进(PSSM)</h2>
                <div style="position:relative; margin:0px auto; width: 100%;">
                    <img data-src="imgs/pssm-before.jpg" style="position:absolute;left:0px;top:0px;max-width:2000px;width:100%;" alt="" />
                    <img data-src="imgs/pssm-after.jpg" class="item"  style="position:absolute;left:0px;top:0px;max-width:2000px;width:100%;" alt="" />
                </div>
            </article>
            <article>
                <h1>2. 动画系统</h1>
            </article>
            <article data-action="showSkinning" style="padding:0px;"></article>
            <article>
                <h1>3. 粒子特效</h1>
            </article>
            <article data-action="xiaoshidai" style="padding:0px;"></article>
            <article>
                <h1>4. 物理引擎</h1>
            </article>
            <article data-action="showPhysics" style="padding:0px;"></article>
            <article style="text-align:center;">
                <h1>5. 通用模型数据交换格式</h1>
                <a href="https://github.com/KhronosGroup/glTF" target="_blank">
                    <img data-src="imgs/glTF_500.png" style="width: 400px;" alt="">
                </a>
            </article>
            <article style="text-align:center;">
                <img data-src="imgs/web3d-flow.jpg" alt="">
            </article>
            <article>
                <h1>6. 易用性</h1>
            </article>
            <article style="text-align:center">
                <h3>
                    TypeScript
                </h3>
                <div style="position:relative; width: 900px; margin:0px auto;">
                    <img data-src="imgs/ts-usage.jpg" style="position:absolute;left:0px;top:0px;" alt="" />
                    <img data-src="imgs/ts-definition.jpg" class="item"  style="position:absolute;left:0px;top:0px;" alt="" />
                </div>
                <h5>
                    每个接口都有 TypeScript Definition
                </h5>
            </article>
            <article style="text-align:center">
                <h3>
                    API
                </h3>
                <a href="http://pissang.github.io/qtek/api/" target="_blank">
                    <img data-src="imgs/qtek-api.png" alt="" >
                </a>
            </article>
            <article style="text-align:center">
                <h3>
                    Online playground
                </h3>
                <a href="http://pissang.github.io/qtek-playground/client" target="_blank">
                    <img data-src="imgs/qtek-playground.png" alt="">
                </a>
            </article>
            <article style="text-align:center">
                <h2>第一人称射击 DEMO</h2>
                <img data-src="imgs/bootcamp.jpg" alt="">
            </article>
            <article>
                <h1>就差别人来用了！</h1>
            </article>
            <article>
                <h1>项目应用</h1>
            </article>
            <article style="text-align:center">
                <h2>搜索结果页世界杯彩蛋</h2>
                <img data-src="imgs/worldcup.jpg" alt="">
            </article>
            <article style="text-align:center">
                <h2>彩蛋编辑器</h2>
                <img data-src="imgs/worldcup-editor.jpg" alt="">
            </article>
            <article style="text-align:center">
                <h1>WebGL加速2D渲染 - ZRender-X</h1>
            </article>
            <article>
                <ul class="schedule-list small">
                    <li style="height: 70px;">矢量的 Path 渲染 (Line, Bezier, Arc)</li>
                    <li>Image</li>
                    <li>Text</li>
                    <li>Transform</li>
                    <li>Caching & Batching</li>
                    <li style="opacity: 0.5">Gradient & Pattern</li>
                    <li style="opacity: 0.5">Shadow</li>
                    <li style="opacity: 0.5">Clip</li>
                </ul>
            </article>
            <article style="text-align:center;">
                <h2>矢量的 Path 渲染</h2>
                <div class="item" data-action="drawSVG" style="height:400px;">
                    <div style="width:33.333%; float:left">
                        <embed style="height:400px;" src="assets/tiger.svg" type="image/svg+xml">
                        <h3 style="margin-top:-30px;">SVG</h3>
                    </div>
                    <div class="item"  style="width:33.333%; float:left">
                        <canvas id="render-canvas" style="height:400px;"></canvas>
                        <h3 style="margin-top:-30px;">Canvas</h3>
                    </div>
                    <div class="item"  style="width:33.333%; float:left">
                        <canvas id="render-webgl" style="height:400px;"></canvas>
                        <h3 style="margin-top:-30px;">WebGL</h3>
                    </div>
                </div>
            </article>
            <article>
                <canvas class="item" data-action="drawSVG3D" style="width:100%;height:100%;"></canvas>
            </article>
            <article>
                <h2>Benchmark.js - 1k shapes</h2>
                <img data-src="imgs/benchmark.jpg" alt="" />
            </article>
            <article>
                <h2>Benchmark.js - Chrome (1k shapes)</h2>
                <div class="item" style="height:400px" data-action="zrChromeBench"></div>
                <div style="font-size: 14px; line-height: 25px;">
                    静态(ZRender-X) - 平移缩放浏览整个画布 <br />
                    半静态(ZRender-X) - 修改每个 shape 的变换，颜色，透明度 <br />
                    动态(ZRender-X) - 每次 path 都是重新计算 <br />
                </div>
            </article>
            <article>
                <h2>Benchmark.js - Firefox (1k shapes)</h2>
                <div class="item" style="height:400px" data-action="zrFirefoxBench"></div>
                <div style="font-size: 14px; line-height: 25px;">
                    静态(ZRender-X) - 平移缩放浏览整个画布 <br />
                    半静态(ZRender-X) - 修改每个 shape 的变换，颜色，透明度 <br />
                    动态(ZRender-X) - 每次 path 都是重新计算 <br />
                </div>
            </article>
            <article data-action="showZROrbit" style="padding:0px;"></article>
            <article data-action="showZRXOrbit" style="padding:0px;"></article>
            <article style="text-align:center;">
                <a href="https://github.com/ecomfe/zr-graph" target="_blank">
                    <img data-src="imgs/zr-graph.jpg" alt="">
                </a>
                <h4>6w+ shape 的图做到实时(>30fps)的交互</h4>
            </article>
            <article>
                <h1 style="font-size:70px;">ThankS</h1>
            </article>
        </div>
        <div id="slide-info">
            <h1 id="title">ASM.js & Emscripten</h1>
            <ul class="aboutme">
                <li id="author">沈毅</li>
                <li id="date">2014-03-27</li>
                <li id="github">
                    github : 
                    <a href="https://github.com/pissang" target="_blank">pissang</a>
                </li>
                <li id="weibo">
                    @
                    <a href="http://weibo.com/pissang" target="_blank">pissang</a>
                </li>
            </ul>
        </div>

        <script type="text/javascript" src="../../js/lib/jquery.min.js"></script>
        <script type="text/javascript" src="../../js/lib/prettify.js"></script>
        <script type="text/javascript" src="../../js/slides.js"></script>
        <script type="text/javascript" src="../../js/lib/esl.js"></script>
        <script type="text/javascript" src="../../js/lib/echarts.js"></script>
        <script type="text/javascript" src="../../js/lib/zrender.js"></script>
        <script type="text/javascript" src="../../js/lib/zrender-x.js"></script>
        <script type="text/javascript" src="../../js/lib/dagre.js"></script>
        <script type="text/javascript" src="../../js/lib/qtek.amd.min.js"></script>
        <script type="text/javascript" src="../../js/lib/qtek-2d.amd.min.js"></script>
        <script type="text/javascript" src="../../js/lib/qtek-physics.amd.min.js"></script>

        <script type="text/javascript">
            require(['js/main']);
        </script>
    </body>
</html>